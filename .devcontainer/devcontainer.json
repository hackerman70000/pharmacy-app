{
    "name": "Dev Container",
    "dockerComposeFile": "docker-compose.yml",
    "service": "devcontainer",
    "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
    
    "features": {
        "ghcr.io/va-h/devcontainers-features/uv:1": {
            "version": "latest"
        },
        "ghcr.io/itsmechlark/features/postgresql:1": {
            "version": "latest"
        },
        "ghcr.io/devcontainers/features/github-cli:1": {},
        "ghcr.io/devcontainers/features/node:1": {
            "version": "18"
        }
    },

    "forwardPorts": [5000, 8081],
    
    "containerEnv": {
		"DATABASE_URL": "postgresql://postgres:postgres@db:5432/postgres",
        "EXPO_PUBLIC_API_URL": "http://localhost:5000/api"
    },

    "postCreateCommand": "bash ${containerWorkspaceFolder}/.devcontainer/scripts/post-create.sh",
    "postStartCommand": "bash ${containerWorkspaceFolder}/.devcontainer/scripts/post-start.sh",
    
    "remoteUser": "root",
    
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-python.python",
                "charliermarsh.ruff",
                "dbaeumer.vscode-eslint",
                "esbenp.prettier-vscode"
            ]
        }
    }
}
